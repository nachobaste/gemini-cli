exports.id=762,exports.ids=[762],exports.modules={8359:()=>{},3739:()=>{},6022:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var a=r(509),i=r.n(a)},509:(e,t,r)=>{"use strict";function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var a,i;a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=r(4108);r(2166),r(1694);let o=n._(r(5800));function c(e,t){var r;let a={loading:e=>{let{error:t,isLoading:r,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let n=i(i({},a),t);return(0,o.default)(i(i({},n),{},{modules:null==(r=n.loadableGenerated)?void 0:r.modules}))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let a=r(6450);function i(e){let{reason:t,children:r}=e;throw new a.BailoutToCSRError(t)}},5800:(e,t,r)=>{"use strict";function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var a,i;a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});let n=r(2166),o=r(1694),c=r(1639),s=r(1933);function l(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},f=function(e){let t=i(i({},u),e),r=(0,o.lazy)(()=>t.loader().then(l)),a=t.loading;function f(e){let l=a?(0,n.jsx)(a,{isLoading:!0,pastDelay:!0,error:null}):null,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.PreloadCss,{moduleIds:t.modules}),(0,n.jsx)(r,i({},e))]}):(0,n.jsx)(c.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,i({},e))});return(0,n.jsx)(o.Suspense,{fallback:l,children:u})}return f.displayName="LoadableComponent",f}},1933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let a=r(2166),i=r(4580);function n(e){let{moduleIds:t}=e,r=(0,i.getExpectedRequestStore)("next/dynamic css"),n=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},7571:(e,t,r)=>{"use strict";function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var a,i;a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{k:()=>c});let n=(0,r(7634).eI)("https://iemhwwufuffbwgrzusjt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImllbWh3d3VmdWZmYndncnp1c2p0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMjYxMzEsImV4cCI6MjA2NjcwMjEzMX0.bhG23WjRqUE7AS18n-wYKJ1_Hx-_cuDJu8okON1e5cs"),o=e=>{if(e){if("string"==typeof e){let t=e.match(/\(([^,]+),([^)]+)\)/);if(t){let e=parseFloat(t[1]),r=parseFloat(t[2]);if(!isNaN(e)&&!isNaN(r))return{x:e,y:r}}}else if("object"==typeof e&&null!==e&&"number"==typeof e.x&&"number"==typeof e.y)return{x:e.x,y:e.y}}};class c{static async getProjects(e,t,r=n){let a=r.from("projects").select("*, mcda_evaluations(*, mcda_parameters(*))").order("created_at",{ascending:!1});e&&(a=a.eq("asset_class",e)),t&&(a=a.eq("development_category",t));let{data:s,error:l}=await a;if(l)throw l;return await Promise.all(s.map(async e=>{let t=await c.calculateMCDAScore(e.id,r);return console.log(`Project ${e.id} MCDA Score:`,t),i(i({},e),{},{coordinates:o(e.coordinates),mcda_score:t})}))}static async getProject(e,t=n){let{data:r,error:a}=await t.from("projects").select("*, mcda_evaluations(*, mcda_parameters(*)), business_model_canvas(*)").eq("id",e).single();if(a)throw a;return i(i({},r),{},{coordinates:o(r.coordinates)})}static async createProject(e,t=n){let{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("User not authenticated");let{data:a,error:o}=await t.from("projects").insert(i(i({},e),{},{created_by:r.id})).select().single();if(o)throw o;return a}static async updateProject(e,t,r=n){let{data:a,error:i}=await r.from("projects").update(t).eq("id",e).select().single();if(i)throw i;return a}static async deleteProject(e,t=n){let{error:r}=await t.from("projects").delete().eq("id",e);if(r)throw r}static async getMCDAParameters(e=n){let{data:t,error:r}=await e.from("mcda_parameters").select("*").eq("is_active",!0).order("category",{ascending:!0}).order("name",{ascending:!0});if(r)throw r;return t}static async getMCDAParametersByCategory(e=n){let{data:t,error:r}=await e.rpc("get_mcda_parameters_by_category");if(r)throw r;return t}static async updateMCDAParameters(e,t=n){let r=e.map(e=>({id:e.id,weight:e.weight})),{data:a,error:i}=await t.from("mcda_parameters").upsert(r,{onConflict:"id"}).select();if(i)throw i;return a}static async getProjectEvaluations(e,t=n){let{data:r,error:a}=await t.rpc("get_project_evaluations",{project_uuid:e});if(a)throw a;return r}static async upsertMCDAEvaluation(e,t=n){let{data:r,error:a}=await t.rpc("upsert_mcda_evaluation",{p_project_id:e.project_id,p_parameter_id:e.parameter_id,p_value:e.value,p_notes:e.notes});if(a)throw a;return r}static async calculateMCDAScore(e,t=n){let{data:r,error:a}=await t.rpc("calculate_mcda_score",{project_uuid:e});if(a)throw a;return r}static async getBMC(e,t=n){let{data:r,error:a}=await t.from("business_model_canvas").select("*").eq("project_id",e).single();if(a&&"PGRST116"!==a.code)throw a;return r}static async upsertBMC(e,t=n){let{data:r,error:a}=await t.from("business_model_canvas").upsert(e).select().single();if(a)throw a;return r}static async getBMCTemplates(e=n){let{data:t,error:r}=await e.from("business_model_canvas").select("*").is("project_id",null);if(r)throw r;return t}static async getMunicipalities(e=n){let{data:t,error:r}=await e.from("municipalities").select("*").order("name",{ascending:!0});if(r)throw r;return t}static async searchProjects(e,t,r,a=n){let{data:i,error:o}=await a.rpc("search_projects",{search_term:e,status_filter:t,asset_class_filter:r});if(o)throw o;return i}static async getUserProfile(e,t=n){let{data:r,error:a}=await t.from("user_profiles").select("*").eq("id",e).single();if(a&&"PGRST116"!==a.code)throw a;return r}static async updateUserProfile(e,t,r=n){let{data:a,error:o}=await r.from("user_profiles").upsert(i({id:e},t)).select().single();if(o)throw o;return a}}}};