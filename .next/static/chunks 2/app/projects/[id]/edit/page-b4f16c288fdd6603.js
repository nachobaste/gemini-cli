(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{9117:function(e,t,r){Promise.resolve().then(r.bind(r,799))},3880:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(12),n=r.n(s)},2921:function(e,t,r){"use strict";var s=r(6168);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},799:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(4513),n=r(90),a=r(5977),o=r.n(a),l=r(6871),c=r(2921),i=r(3880),d=r(9465),u=r(7437);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e){var t,r=e.params.id,a=(0,c.useRouter)(),m=(0,l.useState)(null),p=m[0],x=m[1],b=(0,l.useState)(!0),f=b[0],j=b[1],v=(0,l.useState)({}),g=v[0],y=v[1],N=(0,l.useState)(!1),w=N[0],k=N[1],_=(0,l.useState)(null),C=_[0],O=_[1];(0,l.useEffect)(function(){var e;(e=(0,n.Z)(o().mark(function e(){var t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.k.getProject(r);case 3:x(t=e.sent),y(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching project:",e.t0),O("Failed to load project data.");case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])})),function(){return e.apply(this,arguments)})()},[r]);var P=function(e){var t=e.target,r=t.name,n=t.value;y(function(e){return h(h({},e),{},(0,s.Z)({},r,n))})},E=(t=(0,n.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),O(null),e.prev=3,e.next=6,d.k.updateProject(r,g);case 6:a.push("/projects/".concat(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Error saving project:",e.t0),O("Failed to save project data: ".concat(e.t0 instanceof Error?e.t0.message:"An unknown error occurred"));case 13:return e.prev=13,k(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[3,9,13,16]])})),function(e){return t.apply(this,arguments)});return f?(0,u.jsxs)("div",{className:"container-urbop py-12 text-center",children:[(0,u.jsxs)("svg",{className:"animate-spin h-12 w-12 text-lime-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,u.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,u.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,u.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando proyecto..."})]}):C?(0,u.jsxs)("div",{className:"container-urbop py-12 text-center text-red-500",children:[(0,u.jsx)("p",{children:C}),(0,u.jsx)("button",{onClick:function(){return a.back()},className:"btn btn-secondary mt-4",children:"Volver"})]}):p?(0,u.jsxs)("div",{className:"container-urbop py-12",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,u.jsxs)("h1",{className:"section-title",children:["Editar Proyecto: ",p.name]}),(0,u.jsx)(i.default,{href:"/projects/".concat(r),className:"btn btn-outline",children:"Cancelar"})]}),(0,u.jsxs)("form",{onSubmit:E,className:"bg-white p-8 rounded-xl shadow-lg",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre del Proyecto"}),(0,u.jsx)("input",{type:"text",id:"name",name:"name",value:g.name||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500",required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Ubicaci\xf3n"}),(0,u.jsx)("input",{type:"text",id:"location",name:"location",value:g.location||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500"})]}),(0,u.jsxs)("div",{className:"md:col-span-2",children:[(0,u.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripci\xf3n"}),(0,u.jsx)("textarea",{id:"description",name:"description",value:g.description||"",onChange:P,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Estado"}),(0,u.jsxs)("select",{id:"status",name:"status",value:g.status||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500",children:[(0,u.jsx)("option",{value:"planning",children:"Planificaci\xf3n"}),(0,u.jsx)("option",{value:"active",children:"Activo"}),(0,u.jsx)("option",{value:"under_review",children:"En Revisi\xf3n"}),(0,u.jsx)("option",{value:"suspended",children:"Suspendido"}),(0,u.jsx)("option",{value:"completed",children:"Completado"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"asset_class",className:"block text-sm font-medium text-gray-700",children:"Clase de Activo"}),(0,u.jsxs)("select",{id:"asset_class",name:"asset_class",value:g.asset_class||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500",children:[(0,u.jsx)("option",{value:"residential",children:"Residencial"}),(0,u.jsx)("option",{value:"commercial",children:"Comercial"}),(0,u.jsx)("option",{value:"mixed_use",children:"Uso Mixto"}),(0,u.jsx)("option",{value:"industrial",children:"Industrial"}),(0,u.jsx)("option",{value:"office",children:"Oficina"}),(0,u.jsx)("option",{value:"retail",children:"Minorista"}),(0,u.jsx)("option",{value:"hospitality",children:"Hosteler\xeda"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"development_category",className:"block text-sm font-medium text-gray-700",children:"Categor\xeda de Desarrollo"}),(0,u.jsxs)("select",{id:"development_category",name:"development_category",value:g.development_category||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500",children:[(0,u.jsx)("option",{value:"land_development",children:"Desarrollo de Suelo"}),(0,u.jsx)("option",{value:"land_packaging",children:"Empaquetado de Suelo"}),(0,u.jsx)("option",{value:"land_banking",children:"Banco de Tierras"}),(0,u.jsx)("option",{value:"real_estate_development",children:"Desarrollo Inmobiliario"}),(0,u.jsx)("option",{value:"real_estate_operator",children:"Operador Inmobiliario"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700",children:"Presupuesto (USD)"}),(0,u.jsx)("input",{type:"number",id:"budget",name:"budget",value:g.budget||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"area_total",className:"block text-sm font-medium text-gray-700",children:"\xc1rea Total (m\xb2)"}),(0,u.jsx)("input",{type:"number",id:"area_total",name:"area_total",value:g.area_total||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"units_count",className:"block text-sm font-medium text-gray-700",children:"N\xfamero de Unidades"}),(0,u.jsx)("input",{type:"number",id:"units_count",name:"units_count",value:g.units_count||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"floors_count",className:"block text-sm font-medium text-gray-700",children:"N\xfamero de Pisos"}),(0,u.jsx)("input",{type:"number",id:"floors_count",name:"floors_count",value:g.floors_count||"",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500"})]}),(0,u.jsxs)("div",{className:"md:col-span-2",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Coordenadas (Longitud, Latitud)"}),(0,u.jsx)("p",{className:"mt-1 text-gray-900",children:null!=p&&p.coordinates?"".concat(p.coordinates.x,", ").concat(p.coordinates.y):"N/A"})]})]}),(0,u.jsx)("div",{className:"flex justify-end space-x-4",children:(0,u.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:w,children:w?"Guardando...":"Guardar Cambios"})})]})]}):(0,u.jsxs)("div",{className:"container-urbop py-12 text-center text-gray-600",children:[(0,u.jsx)("p",{children:"Proyecto no encontrado."}),(0,u.jsx)(i.default,{href:"/projects",className:"btn btn-primary mt-4",children:"Volver a Proyectos"})]})}}},function(e){e.O(0,[762,14,12,465,971,529,744],function(){return e(e.s=9117)}),_N_E=e.O()}]);