(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5253:function(e,s,t){Promise.resolve().then(t.bind(t,4484))},166:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(5775),l=t.n(a)},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(2972),l=t.n(a)},5775:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r}});let a=t(7043);t(7437),t(2265);let l=a._(t(5602));function r(e,s){var t;let a={loading:e=>{let{error:s,isLoading:t,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let r={...a,...s};return(0,l.default)({...r,modules:null==(t=r.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},1523:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let a=t(8993);function l(e){let{reason:s,children:t}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(s);return t}},5602:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let a=t(7437),l=t(2265),r=t(1523),c=t(49);function i(e){return{default:e&&"default"in e?e.default:e}}let n={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let s={...n,...e},t=(0,l.lazy)(()=>s.loader().then(i)),d=s.loading;function o(e){let i=d?(0,a.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,n=s.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(c.PreloadCss,{moduleIds:s.modules}):null,(0,a.jsx)(t,{...e})]}):(0,a.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(t,{...e})});return(0,a.jsx)(l.Suspense,{fallback:i,children:n})}return o.displayName="LoadableComponent",o}},49:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return r}});let a=t(7437),l=t(544);function r(e){let{moduleIds:s}=e;if("undefined"!=typeof window)return null;let t=(0,l.getExpectedRequestStore)("next/dynamic css"),r=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));r.push(...s)}}return 0===r.length?null:(0,a.jsx)(a.Fragment,{children:r.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},4484:function(e,s,t){"use strict";let a;t.r(s),t.d(s,{default:function(){return d}});var l=t(7437),r=t(2265),c=t(7648),i=t(5526),n=t(166);function d(e){var s,t,a,n;let{params:d}=e,{id:o}=d,[m,x]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[b,j]=(0,r.useState)([]),[f,p]=(0,r.useState)(null),[g,v]=(0,r.useState)(!0),[N,y]=(0,r.useState)("overview");return(0,r.useEffect)(()=>{(async()=>{try{let e=await i.k.getProject(o);x(e);let s=await i.k.calculateMCDAScore(o);h(s);let t=await i.k.getProjectEvaluations(o);j(t);let a=await i.k.getBMC(o);p(a)}catch(e){console.error("Error fetching project data:",e)}finally{v(!1)}})()},[o]),(null==m?void 0:m.coordinates)&&(m.coordinates.y,m.coordinates.x),(0,l.jsxs)("div",{className:"animate-fade-in",children:[(0,l.jsx)("section",{className:"bg-black py-16",children:(0,l.jsx)("div",{className:"container-urbop",children:g?(0,l.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,l.jsxs)("svg",{className:"animate-spin h-12 w-12 text-lime-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(c.default,{href:"/projects",className:"text-gray-400 hover:text-lime-500 flex items-center mb-4",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Volver a Proyectos"]}),(0,l.jsx)("h1",{className:"mb-2",children:m.name}),(0,l.jsxs)("div",{className:"flex items-center text-gray-400 mb-2",children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,l.jsx)("span",{children:m.location})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[(0,l.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(null==e?void 0:e.toLowerCase()){case"active":return"bg-green-500";case"under_review":return"bg-yellow-500";case"suspended":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}})(m.status)," text-white"),children:m.status}),null!==u&&(0,l.jsx)("div",{className:"bg-gray-900 rounded-full w-14 h-14 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-lime-500 text-xl font-bold",children:u.toFixed(1)})})]})]}),(0,l.jsx)("div",{className:"accent-line"}),(0,l.jsx)("p",{className:"text-xl text-gray-300 mt-6",children:m.description}),(0,l.jsxs)("div",{className:"flex flex-wrap border-b border-gray-800 mt-12",children:[(0,l.jsx)("button",{className:"tab ".concat("overview"===N?"active":""),onClick:()=>y("overview"),children:"Resumen"}),(0,l.jsx)("button",{className:"tab ".concat("location"===N?"active":""),onClick:()=>y("location"),children:"Ubicaci\xf3n"}),(0,l.jsx)("button",{className:"tab ".concat("mcda"===N?"active":""),onClick:()=>y("mcda"),children:"An\xe1lisis MCDA"}),(0,l.jsx)("button",{className:"tab ".concat("bmc"===N?"active":""),onClick:()=>y("bmc"),children:"Business Model Canvas"}),(0,l.jsx)("button",{className:"tab ".concat("financial"===N?"active":""),onClick:()=>y("financial"),children:"An\xe1lisis Financiero"})]})]})})}),!g&&m&&(0,l.jsx)("section",{className:"bg-gray-900 py-12",children:(0,l.jsxs)("div",{className:"container-urbop",children:["overview"===N&&(0,l.jsx)("div",{className:"animate-fade-in",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Detalles del Proyecto"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Tipo de Proyecto"}),(0,l.jsx)("div",{className:"text-white",children:m.asset_class})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Categor\xeda de Desarrollo"}),(0,l.jsx)("div",{className:"text-white",children:m.development_category})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"\xc1rea Total (m\xb2)"}),(0,l.jsx)("div",{className:"text-white",children:(null===(s=m.area_total)||void 0===s?void 0:s.toLocaleString())||"N/A"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Unidades"}),(0,l.jsx)("div",{className:"text-white",children:m.units_count||"N/A"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Pisos"}),(0,l.jsx)("div",{className:"text-white",children:m.floors_count||"N/A"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Fecha de Creaci\xf3n"}),(0,l.jsx)("div",{className:"text-white",children:new Date(m.created_at).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"\xdaltima Actualizaci\xf3n"}),(0,l.jsx)("div",{className:"text-white",children:new Date(m.updated_at).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Presupuesto"}),(0,l.jsxs)("div",{className:"text-white",children:["$",(null===(t=m.budget)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Cronograma del Proyecto (Placeholder)"}),(0,l.jsx)("div",{className:"text-gray-400",children:"El cronograma del proyecto se mostrar\xe1 aqu\xed."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Puntuaci\xf3n MCDA"}),(0,l.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,l.jsx)("div",{className:"w-32 h-32 rounded-full border-8 border-lime-500 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-4xl font-bold",children:(null==u?void 0:u.toFixed(1))||"N/A"})})}),(0,l.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-gray-400",children:e.parameter_name}),(0,l.jsx)("span",{className:"text-lime-500",children:e.value.toFixed(1)})]}),(0,l.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-lime-500 h-2 rounded-full",style:{width:"".concat(e.value/10*100,"%")}})})]},e.parameter_id))})]}),(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Acciones"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(c.default,{href:"/projects/".concat(o,"/edit"),className:"btn btn-primary w-full text-center",children:"Editar Proyecto"}),(0,l.jsx)("button",{className:"btn btn-secondary w-full",children:"Generar Reporte"}),(0,l.jsx)("button",{className:"btn btn-outline w-full",children:"Compartir"})]})]})]})]})}),"location"===N&&(0,l.jsx)("div",{className:"animate-fade-in",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"md:col-span-2",children:(0,l.jsx)("div",{className:"bg-black rounded-lg overflow-hidden",style:{height:"500px"},children:(0,l.jsx)("div",{className:"h-full relative",children:(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-800",children:(0,l.jsxs)("div",{className:"h-full w-full relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-900"}),(0,l.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(to right, rgba(75, 85, 99, 0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(75, 85, 99, 0.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),(0,l.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,l.jsx)("div",{className:"w-6 h-6 rounded-full bg-lime-500 animate-ping opacity-50"}),(0,l.jsx)("div",{className:"w-6 h-6 rounded-full bg-lime-500 absolute top-0 left-0"})]})]})})})})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Detalles de Ubicaci\xf3n"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Direcci\xf3n"}),(0,l.jsx)("div",{className:"text-white",children:m.location})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Coordenadas"}),(0,l.jsxs)("div",{className:"text-white",children:[null===(a=m.coordinates)||void 0===a?void 0:a.y,", ",null===(n=m.coordinates)||void 0===n?void 0:n.x]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Municipalidad"}),(0,l.jsx)("div",{className:"text-white",children:"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Departamento"}),(0,l.jsx)("div",{className:"text-white",children:"N/A"})]})]})]}),(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Proximidad (Placeholder)"}),(0,l.jsx)("div",{className:"text-gray-400",children:"Los datos de proximidad se mostrar\xe1n aqu\xed."})]})]})]})}),"mcda"===N&&(0,l.jsx)("div",{className:"animate-fade-in",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"md:col-span-2",children:(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"An\xe1lisis MCDA"}),(0,l.jsx)("div",{className:"space-y-8",children:Object.entries(b.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{})).map(e=>{let[s,t]=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold",children:s}),(0,l.jsx)("span",{className:"text-lime-500 font-bold text-xl",children:(t.reduce((e,s)=>e+s.value,0)/t.length).toFixed(1)})]}),(0,l.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-gray-400",children:e.parameter_name}),(0,l.jsx)("span",{className:"text-lime-500",children:e.value.toFixed(1)})]}),(0,l.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-lime-500 h-2 rounded-full",style:{width:"".concat(e.value/10*100,"%")}})})]},e.parameter_id))})]},s)})})]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Resumen MCDA"}),(0,l.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,l.jsx)("div",{className:"w-32 h-32 rounded-full border-8 border-lime-500 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-4xl font-bold",children:(null==u?void 0:u.toFixed(1))||"N/A"})})}),(0,l.jsx)("div",{className:"space-y-4",children:Object.entries(b.reduce((e,s)=>(e[s.category]||(e[s.category]={total:0,count:0}),e[s.category].total+=s.value,e[s.category].count++,e),{})).map(e=>{let[s,t]=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-gray-400",children:s}),(0,l.jsx)("span",{className:"text-lime-500",children:(t.total/t.count).toFixed(1)})]}),(0,l.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-lime-500 h-2 rounded-full",style:{width:"".concat(t.total/t.count/10*100,"%")}})})]},s)})})]}),(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Acciones"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(c.default,{href:"/projects/".concat(o,"/edit"),className:"btn btn-primary w-full text-center",children:"Editar Proyecto"}),(0,l.jsx)("button",{className:"btn btn-secondary w-full",children:"Generar Reporte"}),(0,l.jsx)("button",{className:"btn btn-outline w-full",children:"Compartir"})]})]})]})]})}),"bmc"===N&&(0,l.jsxs)("div",{className:"animate-fade-in",children:[(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Business Model Canvas"}),f?(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Socios Clave"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.key_partners})]}),(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Actividades Clave"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.key_activities})]}),(0,l.jsxs)("div",{className:"bg-lime-500 bg-opacity-10 border border-lime-500 p-4 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2 text-lime-500",children:"Propuesta de Valor"}),(0,l.jsx)("p",{className:"text-gray-300 text-sm",children:f.value_proposition})]}),(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Relaciones con Clientes"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.customer_relationships})]}),(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Segmentos de Clientes"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.customer_segments})]}),(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Recursos Clave"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.key_resources})]}),(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg md:col-start-4",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Canales"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.channels})]}),(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg md:col-span-2",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Estructura de Costos"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.cost_structure})]}),(0,l.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg md:col-span-3",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Fuentes de Ingresos"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:f.revenue_streams})]})]}):(0,l.jsx)("div",{className:"text-gray-400",children:"No hay Business Model Canvas disponible para este proyecto."})]}),(0,l.jsx)("div",{className:"flex justify-end mt-6",children:f?(0,l.jsx)(c.default,{href:"/projects/".concat(o,"/bmc/edit"),className:"btn btn-secondary",children:"Editar BMC"}):(0,l.jsx)(c.default,{href:"/projects/".concat(o,"/bmc/edit"),className:"btn btn-primary",children:"Crear BMC"})})]}),"financial"===N&&(0,l.jsx)("div",{className:"animate-fade-in",children:(0,l.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"An\xe1lisis Financiero (Placeholder)"}),(0,l.jsx)("div",{className:"text-gray-400",children:"Los datos financieros se mostrar\xe1n aqu\xed."})]})})]})})]})}(0,n.default)(()=>t.e(305).then(t.bind(t,9305)).then(e=>e.MapContainer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),(0,n.default)(()=>t.e(305).then(t.bind(t,9305)).then(e=>e.TileLayer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),(0,n.default)(()=>t.e(305).then(t.bind(t,9305)).then(e=>e.Marker),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),(0,n.default)(()=>t.e(305).then(t.bind(t,9305)).then(e=>e.Popup),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),a=t(759),delete a.Icon.Default.prototype._getIconUrl,a.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})},5526:function(e,s,t){"use strict";t.d(s,{k:function(){return r}});let a=(0,t(6580).eI)("https://iemhwwufuffbwgrzusjt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImllbWh3d3VmdWZmYndncnp1c2p0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMjYxMzEsImV4cCI6MjA2NjcwMjEzMX0.bhG23WjRqUE7AS18n-wYKJ1_Hx-_cuDJu8okON1e5cs"),l=e=>{if(e){if("string"==typeof e){let s=e.match(/\(([^,]+),([^)]+)\)/);if(s){let e=parseFloat(s[1]),t=parseFloat(s[2]);if(!isNaN(e)&&!isNaN(t))return{x:e,y:t}}}else if("object"==typeof e&&null!==e&&"number"==typeof e.x&&"number"==typeof e.y)return{x:e.x,y:e.y}}};class r{static async getProjects(){let{data:e,error:s}=await a.from("projects").select("*").order("created_at",{ascending:!1});if(s)throw s;return e.map(e=>({...e,coordinates:l(e.coordinates)}))}static async getProject(e){let{data:s,error:t}=await a.from("projects").select("*, mcda_evaluations(*, mcda_parameters(*)), business_model_canvas(*)").eq("id",e).single();if(t)throw t;return{...s,coordinates:l(s.coordinates)}}static async createProject(e){let{data:s,error:t}=await a.from("projects").insert(e).select().single();if(t)throw t;return s}static async updateProject(e,s){let{data:t,error:l}=await a.from("projects").update(s).eq("id",e).select().single();if(l)throw l;return t}static async deleteProject(e){let{error:s}=await a.from("projects").delete().eq("id",e);if(s)throw s}static async getMCDAParameters(){let{data:e,error:s}=await a.from("mcda_parameters").select("*").eq("is_active",!0).order("category",{ascending:!0}).order("name",{ascending:!0});if(s)throw s;return e}static async getMCDAParametersByCategory(){let{data:e,error:s}=await a.rpc("get_mcda_parameters_by_category");if(s)throw s;return e}static async getProjectEvaluations(e){let{data:s,error:t}=await a.rpc("get_project_evaluations",{project_uuid:e});if(t)throw t;return s}static async upsertMCDAEvaluation(e){let{data:s,error:t}=await a.rpc("upsert_mcda_evaluation",{p_project_id:e.project_id,p_parameter_id:e.parameter_id,p_value:e.value,p_notes:e.notes});if(t)throw t;return s}static async calculateMCDAScore(e){let{data:s,error:t}=await a.rpc("calculate_mcda_score",{project_uuid:e});if(t)throw t;return s}static async getBMC(e){let{data:s,error:t}=await a.from("business_model_canvas").select("*").eq("project_id",e).single();if(t&&"PGRST116"!==t.code)throw t;return s}static async upsertBMC(e){let{data:s,error:t}=await a.from("business_model_canvas").upsert(e).select().single();if(t)throw t;return s}static async getBMCTemplates(){let{data:e,error:s}=await a.from("bmc_templates").select("*");if(s)throw s;return e}static async getMunicipalities(){let{data:e,error:s}=await a.from("municipalities").select("*").order("name",{ascending:!0});if(s)throw s;return e}static async searchProjects(e,s,t){let{data:l,error:r}=await a.rpc("search_projects",{search_term:e,status_filter:s,asset_class_filter:t});if(r)throw r;return l}static async getUserProfile(e){let{data:s,error:t}=await a.from("user_profiles").select("*").eq("id",e).single();if(t&&"PGRST116"!==t.code)throw t;return s}static async updateUserProfile(e,s){let{data:t,error:l}=await a.from("user_profiles").upsert({id:e,...s}).select().single();if(l)throw l;return t}}}},function(e){e.O(0,[212,580,972,971,117,744],function(){return e(e.s=5253)}),_N_E=e.O()}]);