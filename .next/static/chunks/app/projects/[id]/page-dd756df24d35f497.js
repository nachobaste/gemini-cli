(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5253:function(e,n,t){Promise.resolve().then(t.bind(t,4641))},7773:function(e,n,t){"use strict";t.d(n,{default:function(){return a.a}});var s=t(6937),a=t.n(s)},3880:function(e,n,t){"use strict";t.d(n,{default:function(){return a.a}});var s=t(12),a=t.n(s)},6937:function(e,n,t){"use strict";var s=t(8646);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,s)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var l=t(7090);t(7437),t(6871);var c=l._(t(9332));function i(e,n){var t,s={loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};"function"==typeof e&&(s.loader=e);var a=r(r({},s),n);return(0,c.default)(r(r({},a),{},{modules:null==(t=a.loadableGenerated)?void 0:t.modules}))}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},2063:function(e,n,t){"use strict";function s(e){return e.reason,e.children}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return s}}),t(1015)},9332:function(e,n,t){"use strict";var s=t(8646);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,s)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return m}});var l=t(7437),c=t(6871),i=t(2063);function o(e){return{default:e&&"default"in e?e.default:e}}t(6070);var d={loader:function(){return Promise.resolve(o(function(){return null}))},loading:null,ssr:!0},m=function(e){var n=r(r({},d),e),t=(0,c.lazy)(function(){return n.loader().then(o)}),s=n.loading;function a(e){var a=s?(0,l.jsx)(s,{isLoading:!0,pastDelay:!0,error:null}):null,o=n.ssr?(0,l.jsxs)(l.Fragment,{children:[null,(0,l.jsx)(t,r({},e))]}):(0,l.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(t,r({},e))});return(0,l.jsx)(c.Suspense,{fallback:a,children:o})}return a.displayName="LoadableComponent",a}},6070:function(e,n,t){"use strict";function s(e){return e.moduleIds,null}t(7502),Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadCss",{enumerable:!0,get:function(){return s}}),t(7437),t(3766)},4641:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var s,a=t(5387),r=t(90),l=t(5977),c=t.n(l),i=t(6871),o=t(3880),d=t(9465),m=t(7773),u=function(e){var n=e.project,t=e.mcdaScore,s=e.evaluations,a=e.bmc,r=function(e){var n=s.filter(function(n){return n.category===e});return 0===n.length?null:n.reduce(function(e,n){return e+n.value},0)/n.length},l=Object.keys(s.reduce(function(e,n){return e[n.category]||(e[n.category]=[]),e[n.category].push(n),e},{})).map(function(e){return{name:e,score:r(e)}});return'\n    <!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="UTF-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <title>Project Summary Report</title>\n        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap">\n        <style>\n            @page {\n                size: A4 portrait;\n                margin: 1.5cm;\n            }\n\n            body {\n                font-family: \'Inter\', sans-serif;\n                line-height: 1.6;\n                color: #333;\n                -webkit-print-color-adjust: exact;\n                print-color-adjust: exact;\n            }\n\n            .page-container {\n                width: 100%;\n                max-width: 21cm; /* A4 width */\n                margin: 0 auto;\n                box-sizing: border-box;\n            }\n\n            .report-header {\n                text-align: center;\n                margin-bottom: 2cm;\n                border-bottom: 2px solid #eee;\n                padding-bottom: 1cm;\n            }\n\n            .report-header h1 {\n                font-size: 2.2em;\n                color: #2c3e50;\n                margin-bottom: 0.5em;\n                font-weight: 700;\n            }\n\n            .section {\n                margin-bottom: 1.5cm;\n                padding-bottom: 1cm;\n                border-bottom: 1px solid #eee;\n            }\n\n            .section:last-of-type {\n                border-bottom: none;\n            }\n\n            .section h2 {\n                font-size: 1.8em;\n                color: #34495e;\n                margin-bottom: 1em;\n                font-weight: 600;\n            }\n\n            .section h3 {\n                font-size: 1.4em;\n                color: #34495e;\n                margin-bottom: 0.8em;\n                font-weight: 600;\n            }\n\n            /* MCDA Summary */\n            .mcda-summary .score-overview {\n                display: flex;\n                align-items: center;\n                margin-bottom: 1.5em;\n            }\n\n            .mcda-summary .overall-score {\n                font-size: 1.5em;\n                font-weight: 700;\n                color: #2c3e50;\n                margin-right: 15px;\n            }\n\n            .mcda-summary .score-indicator {\n                width: 25px;\n                height: 25px;\n                border-radius: 50%;\n                display: inline-block;\n                vertical-align: middle;\n            }\n\n            .mcda-summary .score-green {\n                background-color: #4CAF50;\n            }\n\n            .mcda-summary .score-yellow {\n                background-color: #FFC107;\n            }\n\n            .mcda-summary .score-red {\n                background-color: #F44336;\n            }\n\n            .bar-chart-container {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* Responsive grid for cards */\n                gap: 15px;\n                padding-top: 20px;\n                border-bottom: none; /* Remove border from container */\n            }\n\n            .score-card {\n                background-color: #f9f9f9;\n                border: 1px solid #eee;\n                border-radius: 8px;\n                padding: 15px;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                text-align: center;\n                box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* Subtle shadow for card effect */\n                height: 180px; /* Fixed height for consistency */\n                justify-content: flex-end; /* Align content to bottom */\n                position: relative;\n                overflow: hidden; /* Hide overflow for bars */\n            }\n\n            .score-card .bar {\n                width: 100%; /* Bar takes full width of card */\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                border-radius: 0 0 8px 8px; /* Rounded bottom corners for the bar */\n            }\n\n            .score-card-label {\n                font-size: 0.9em;\n                font-weight: 600;\n                color: #333;\n                z-index: 1; /* Ensure label is above the bar */\n                margin-bottom: 5px; /* Space between label and bar */\n            }\n\n            /* Business Model Canvas */\n            .bmc-grid {\n                display: grid;\n                grid-template-columns: repeat(2, 1fr);\n                gap: 1.5cm;\n            }\n\n            .bmc-item {\n                background-color: #f9f9f9;\n                border: 1px solid #eee;\n                padding: 1.2em;\n                border-radius: 5px;\n            }\n\n            .bmc-item h3 {\n                font-size: 1.2em;\n                color: #2c3e50;\n                margin-top: 0;\n                margin-bottom: 0.5em;\n                font-weight: 700;\n            }\n\n            .bmc-item p {\n                font-size: 0.9em;\n                color: #555;\n                margin-bottom: 0;\n            }\n\n            /* Footer */\n            .report-footer {\n                text-align: center;\n                margin-top: 2cm;\n                padding-top: 1cm;\n                border-top: 1px solid #eee;\n                font-size: 0.8em;\n                color: #777;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            /* Page breaks for printing */\n            @media print {\n                html, body {\n                    height: auto;\n                }\n                .page-container {\n                    margin: 0;\n                    width: auto;\n                }\n                .section {\n                    page-break-inside: avoid;\n                }\n                .bmc-grid {\n                    page-break-inside: avoid;\n                }\n                .report-footer {\n                    position: fixed;\n                    bottom: 0;\n                    left: 0;\n                    right: 0;\n                    padding: 1cm 1.5cm;\n                    background-color: #fff;\n                    border-top: 1px solid #eee;\n                }\n            }\n        </style>\n    </head>\n    <body>\n        <div class="page-container">\n            <header class="report-header">\n                <h1>Project Summary: '.concat(n.name,'</h1>\n            </header>\n\n            <section class="section mcda-summary">\n                <h2>MCDA Score Overview</h2>\n                <div class="score-overview">\n                    <span class="overall-score">Overall GEOCUBO Score: ').concat(null!==t?t.toFixed(1):"N/A",'</span>\n                    <span class="score-indicator ').concat(null===t?"score-gray":t>7.5?"score-green":t>=6?"score-yellow":"score-red",'"></span>\n                </div>\n                \n                <h3>Category Scores</h3>\n                <div class="bar-chart-container">\n                    ').concat(l.map(function(e,n){var t=r(e.name);return'\n                            <div class="score-card">\n                                <div class="bar" style="height: '.concat(null!==t?t/10*100:0,"%; background-color: ").concat(null===t?"#cccccc":t>7.5?"#4CAF50":t>=6?"#FFC107":"#F44336",';"></div>\n                                <span class="score-card-label">').concat(e.name," (").concat(null!==t?t.toFixed(1):"N/A",")</span>\n                            </div>\n                        ")}).join(""),'\n                </div>\n            </section>\n\n            <section class="section bmc-section">\n                <h2>Business Model Canvas</h2>\n                ').concat(a?'\n                    <div class="bmc-grid">\n                        <div class="bmc-item">\n                            <h3>Key Partners</h3>\n                            <p>'.concat(a.key_partners||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Key Activities</h3>\n                            <p>').concat(a.key_activities||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Key Resources</h3>\n                            <p>').concat(a.key_resources||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Value Propositions</h3>\n                            <p>').concat(a.value_proposition||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Customer Relationships</h3>\n                            <p>').concat(a.customer_relationships||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Customer Segments</h3>\n                            <p>').concat(a.customer_segments||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Channels</h3>\n                            <p>').concat(a.channels||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Cost Structure</h3>\n                            <p>').concat(a.cost_structure||"N/A",'</p>\n                        </div>\n                        <div class="bmc-item">\n                            <h3>Revenue Streams</h3>\n                            <p>').concat(a.revenue_streams||"N/A","</p>\n                        </div>\n                    </div>\n                "):"<p>No Business Model Canvas data available for this project.</p>",'\n            </section>\n\n            <footer class="report-footer">\n                <span>Generated by GEOCUBO</span>\n                <span>Date: ').concat(new Date().toLocaleDateString(),"</span>\n            </footer>\n        </div>\n    </body>\n    </html>\n  ")},x=t(7437);function h(e){var n,t,s,l,m=e.params.id,h=(0,i.useState)(null),b=h[0],p=h[1],f=(0,i.useState)(null),g=f[0],v=f[1],j=(0,i.useState)([]),y=j[0],N=j[1],w=(0,i.useState)(null),k=w[0],C=w[1],O=(0,i.useState)(!0),P=O[0],_=O[1],A=(0,i.useState)("overview"),S=A[0],D=A[1];return(0,i.useEffect)(function(){var e;(e=(0,r.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.k.getProject(m);case 3:return p(e.sent),e.next=7,d.k.calculateMCDAScore(m);case 7:return v(e.sent),e.next=11,d.k.getProjectEvaluations(m);case 11:return N(e.sent),e.next=15,d.k.getBMC(m);case 15:C(e.sent),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error fetching project data:",e.t0);case 22:return e.prev=22,_(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[0,19,22,25]])})),function(){return e.apply(this,arguments)})()},[m]),null!=b&&b.coordinates&&(b.coordinates.y,b.coordinates.x),(0,x.jsxs)("div",{className:"animate-fade-in",children:[(0,x.jsx)("section",{className:"bg-black py-16",children:(0,x.jsx)("div",{className:"container-urbop",children:P?(0,x.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,x.jsxs)("svg",{className:"animate-spin h-12 w-12 text-lime-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,x.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,x.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):b&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)(o.default,{href:"/projects",className:"text-gray-400 hover:text-lime-500 flex items-center mb-4",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Volver a Proyectos"]}),(0,x.jsx)("h1",{className:"mb-2",children:b.name}),(0,x.jsxs)("div",{className:"flex items-center text-gray-400 mb-2",children:[(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,x.jsx)("span",{children:b.location})]})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[(0,x.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(function(e){switch(null==e?void 0:e.toLowerCase()){case"active":return"bg-green-500";case"under_review":return"bg-yellow-500";case"suspended":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}}(b.status)," text-white"),children:b.status}),null!==g&&(0,x.jsx)("div",{className:"bg-gray-900 rounded-full w-14 h-14 flex items-center justify-center",children:(0,x.jsx)("span",{className:"text-lime-500 text-xl font-bold",children:g.toFixed(1)})})]})]}),(0,x.jsx)("div",{className:"accent-line"}),(0,x.jsx)("p",{className:"text-xl text-gray-300 mt-6",children:b.description}),(0,x.jsxs)("div",{className:"flex flex-wrap border-b border-gray-800 mt-12",children:[(0,x.jsx)("button",{className:"tab ".concat("overview"===S?"active":""),onClick:function(){return D("overview")},children:"Resumen"}),(0,x.jsx)("button",{className:"tab ".concat("location"===S?"active":""),onClick:function(){return D("location")},children:"Ubicaci\xf3n"}),(0,x.jsx)("button",{className:"tab ".concat("mcda"===S?"active":""),onClick:function(){return D("mcda")},children:"An\xe1lisis MCDA"}),(0,x.jsx)("button",{className:"tab ".concat("bmc"===S?"active":""),onClick:function(){return D("bmc")},children:"Business Model Canvas"}),(0,x.jsx)("button",{className:"tab ".concat("financial"===S?"active":""),onClick:function(){return D("financial")},children:"An\xe1lisis Financiero"})]})]})})}),!P&&b&&(0,x.jsx)("section",{className:"bg-gray-900 py-12",children:(0,x.jsxs)("div",{className:"container-urbop",children:["overview"===S&&(0,x.jsx)("div",{className:"animate-fade-in",children:(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,x.jsxs)("div",{className:"md:col-span-2",children:[(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Detalles del Proyecto"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Tipo de Proyecto"}),(0,x.jsx)("div",{className:"text-white",children:b.asset_class})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Categor\xeda de Desarrollo"}),(0,x.jsx)("div",{className:"text-white",children:b.development_category})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"\xc1rea Total (m\xb2)"}),(0,x.jsx)("div",{className:"text-white",children:(null===(n=b.area_total)||void 0===n?void 0:n.toLocaleString())||"N/A"})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Unidades"}),(0,x.jsx)("div",{className:"text-white",children:b.units_count||"N/A"})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Pisos"}),(0,x.jsx)("div",{className:"text-white",children:b.floors_count||"N/A"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Fecha de Creaci\xf3n"}),(0,x.jsx)("div",{className:"text-white",children:new Date(b.created_at).toLocaleDateString()})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"\xdaltima Actualizaci\xf3n"}),(0,x.jsx)("div",{className:"text-white",children:new Date(b.updated_at).toLocaleDateString()})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Presupuesto"}),(0,x.jsxs)("div",{className:"text-white",children:["$",(null===(t=b.budget)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]})]})]})]}),(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Cronograma del Proyecto (Placeholder)"}),(0,x.jsx)("div",{className:"text-gray-400",children:"El cronograma del proyecto se mostrar\xe1 aqu\xed."})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Puntuaci\xf3n MCDA"}),(0,x.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,x.jsx)("div",{className:"w-32 h-32 rounded-full border-8 border-lime-500 flex items-center justify-center",children:(0,x.jsx)("span",{className:"text-4xl font-bold",children:(null==g?void 0:g.toFixed(1))||"N/A"})})}),(0,x.jsx)("div",{className:"space-y-4",children:y.map(function(e){return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,x.jsx)("span",{className:"text-gray-400",children:e.parameter_name}),(0,x.jsx)("span",{className:"text-lime-500",children:e.value.toFixed(1)})]}),(0,x.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,x.jsx)("div",{className:"bg-lime-500 h-2 rounded-full",style:{width:"".concat(e.value/10*100,"%")}})})]},e.parameter_id)})})]}),(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Acciones"}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)(o.default,{href:"/projects/".concat(m,"/edit"),className:"btn btn-primary w-full text-center",children:"Editar Proyecto"}),(0,x.jsx)("button",{className:"btn btn-secondary w-full",onClick:function(){if(!b||null===g||!y||!k){console.error("Data not fully loaded for report generation.");return}var e=function(e){var n=y.filter(function(n){return n.category===e});return 0===n.length?null:n.reduce(function(e,n){return e+n.value},0)/n.length};Object.keys(y.reduce(function(e,n){return e[n.category]||(e[n.category]=[]),e[n.category].push(n),e},{})).map(function(n){return{name:n,score:e(n)}});var n=window.open("","_blank");if(n){var t=u({project:b,mcdaScore:g,evaluations:y,bmc:k});n.document.write(t),n.document.close(),n.print()}},children:"Generar Reporte"}),(0,x.jsx)("button",{className:"btn btn-outline w-full",children:"Compartir"})]})]})]})]})}),"location"===S&&(0,x.jsx)("div",{className:"animate-fade-in",children:(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,x.jsx)("div",{className:"md:col-span-2",children:(0,x.jsx)("div",{className:"bg-black rounded-lg overflow-hidden",style:{height:"500px"},children:(0,x.jsx)("div",{className:"h-full relative",children:(0,x.jsx)("div",{className:"absolute inset-0 bg-gray-800",children:(0,x.jsxs)("div",{className:"h-full w-full relative overflow-hidden",children:[(0,x.jsx)("div",{className:"absolute inset-0 bg-gray-900"}),(0,x.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(to right, rgba(75, 85, 99, 0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(75, 85, 99, 0.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),(0,x.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,x.jsx)("div",{className:"w-6 h-6 rounded-full bg-lime-500 animate-ping opacity-50"}),(0,x.jsx)("div",{className:"w-6 h-6 rounded-full bg-lime-500 absolute top-0 left-0"})]})]})})})})}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Detalles de Ubicaci\xf3n"}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Direcci\xf3n"}),(0,x.jsx)("div",{className:"text-white",children:b.location})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Coordenadas"}),(0,x.jsxs)("div",{className:"text-white",children:[null===(s=b.coordinates)||void 0===s?void 0:s.y,", ",null===(l=b.coordinates)||void 0===l?void 0:l.x]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Municipalidad"}),(0,x.jsx)("div",{className:"text-white",children:"N/A"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:"Departamento"}),(0,x.jsx)("div",{className:"text-white",children:"N/A"})]})]})]}),(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Proximidad (Placeholder)"}),(0,x.jsx)("div",{className:"text-gray-400",children:"Los datos de proximidad se mostrar\xe1n aqu\xed."})]})]})]})}),"mcda"===S&&(0,x.jsx)("div",{className:"animate-fade-in",children:(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,x.jsx)("div",{className:"md:col-span-2",children:(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"An\xe1lisis MCDA"}),(0,x.jsx)("div",{className:"space-y-8",children:Object.entries(y.reduce(function(e,n){return e[n.category]||(e[n.category]=[]),e[n.category].push(n),e},{})).map(function(e){var n=(0,a.Z)(e,2),t=n[0],s=n[1];return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsx)("h3",{className:"text-xl font-semibold",children:t}),(0,x.jsx)("span",{className:"text-lime-500 font-bold text-xl",children:(s.reduce(function(e,n){return e+n.value},0)/s.length).toFixed(1)})]}),(0,x.jsx)("div",{className:"space-y-4",children:s.map(function(e){return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,x.jsx)("span",{className:"text-gray-400",children:e.parameter_name}),(0,x.jsx)("span",{className:"text-lime-500",children:e.value.toFixed(1)})]}),(0,x.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,x.jsx)("div",{className:"bg-lime-500 h-2 rounded-full",style:{width:"".concat(e.value/10*100,"%")}})})]},e.parameter_id)})})]},t)})})]})}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Resumen MCDA"}),(0,x.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,x.jsx)("div",{className:"w-32 h-32 rounded-full border-8 border-lime-500 flex items-center justify-center",children:(0,x.jsx)("span",{className:"text-4xl font-bold",children:(null==g?void 0:g.toFixed(1))||"N/A"})})}),(0,x.jsx)("div",{className:"space-y-4",children:Object.entries(y.reduce(function(e,n){return e[n.category]||(e[n.category]={total:0,count:0}),e[n.category].total+=n.value,e[n.category].count++,e},{})).map(function(e){var n=(0,a.Z)(e,2),t=n[0],s=n[1];return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,x.jsx)("span",{className:"text-gray-400",children:t}),(0,x.jsx)("span",{className:"text-lime-500",children:(s.total/s.count).toFixed(1)})]}),(0,x.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,x.jsx)("div",{className:"bg-lime-500 h-2 rounded-full",style:{width:"".concat(s.total/s.count/10*100,"%")}})})]},t)})})]}),(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Acciones"}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)(o.default,{href:"/projects/".concat(m,"/edit"),className:"btn btn-primary w-full text-center",children:"Editar Proyecto"}),(0,x.jsx)(o.default,{href:"/projects/".concat(m,"/mcda/edit"),className:"btn btn-secondary w-full text-center",children:"Editar Evaluaciones MCDA"}),(0,x.jsx)("button",{className:"btn btn-secondary w-full",children:"Generar Reporte"}),(0,x.jsx)("button",{className:"btn btn-outline w-full",children:"Compartir"})]})]})]})]})}),"bmc"===S&&(0,x.jsxs)("div",{className:"animate-fade-in",children:[(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Business Model Canvas"}),k?(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Socios Clave"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.key_partners})]}),(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Actividades Clave"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.key_activities})]}),(0,x.jsxs)("div",{className:"bg-lime-500 bg-opacity-10 border border-lime-500 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2 text-lime-500",children:"Propuesta de Valor"}),(0,x.jsx)("p",{className:"text-gray-300 text-sm",children:k.value_proposition})]}),(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Relaciones con Clientes"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.customer_relationships})]}),(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Segmentos de Clientes"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.customer_segments})]}),(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Recursos Clave"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.key_resources})]}),(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg md:col-start-4",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Canales"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.channels})]}),(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg md:col-span-2",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Estructura de Costos"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.cost_structure})]}),(0,x.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg md:col-span-3",children:[(0,x.jsx)("h3",{className:"font-semibold mb-2",children:"Fuentes de Ingresos"}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:k.revenue_streams})]})]}):(0,x.jsx)("div",{className:"text-gray-400",children:"No hay Business Model Canvas disponible para este proyecto."})]}),(0,x.jsx)("div",{className:"flex justify-end mt-6",children:k?(0,x.jsx)(o.default,{href:"/projects/".concat(m,"/bmc/edit"),className:"btn btn-secondary",children:"Editar BMC"}):(0,x.jsx)(o.default,{href:"/projects/".concat(m,"/bmc/edit"),className:"btn btn-primary",children:"Crear BMC"})})]}),"financial"===S&&(0,x.jsx)("div",{className:"animate-fade-in",children:(0,x.jsxs)("div",{className:"bg-black p-6 rounded-lg mb-8",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"An\xe1lisis Financiero (Placeholder)"}),(0,x.jsx)("div",{className:"text-gray-400",children:"Los datos financieros se mostrar\xe1n aqu\xed."})]})})]})})]})}(0,m.default)(function(){return t.e(134).then(t.bind(t,134)).then(function(e){return e.MapContainer})},{loadableGenerated:{webpack:()=>[134]},ssr:!1,loadableGenerated:{webpack:function(){return[134]}}}),(0,m.default)(function(){return t.e(134).then(t.bind(t,134)).then(function(e){return e.TileLayer})},{loadableGenerated:{webpack:()=>[134]},ssr:!1,loadableGenerated:{webpack:function(){return[134]}}}),(0,m.default)(function(){return t.e(134).then(t.bind(t,134)).then(function(e){return e.Marker})},{loadableGenerated:{webpack:()=>[134]},ssr:!1,loadableGenerated:{webpack:function(){return[134]}}}),(0,m.default)(function(){return t.e(134).then(t.bind(t,134)).then(function(e){return e.Popup})},{loadableGenerated:{webpack:()=>[134]},ssr:!1,loadableGenerated:{webpack:function(){return[134]}}}),s=t(7566),delete s.Icon.Default.prototype._getIconUrl,s.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})}},function(e){e.O(0,[762,212,14,12,465,971,529,744],function(){return e(e.s=5253)}),_N_E=e.O()}]);